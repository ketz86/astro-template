---
import { paths } from "@stores/i18n-params";
import { getSeoData, seoData } from "@stores/seo";
import { getLiveCollection } from "astro:content";

import Home from "@components/pages/Home.astro";


const pages = await getLiveCollection('livePages')
const homepage = pages.entries.find(page => page.template.templateName == 'Homepage')
const homePageFields = homepage.template.homepageFields

const slugs : any = {};
['it', 'en'].map(
  (t) => (slugs[t] = { index: "/" })
);

paths.set(slugs);

seoData.set({
  ...getSeoData(null),
  languageAlternates: [
    ...['it', 'en'].map(lang => ({
      href: `/${lang}`,
      hrefLang: lang,
    })),
    {
      href: `https://www.website.it/it`,
      hrefLang: 'x-default',
    }
  ]
});

---


<Home {homePageFields}/>